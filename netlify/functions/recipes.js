const { google } = require('googleapis');exports.handler = async function(event, context) {  try {    // Parse credentials from environment variable    const credentials = JSON.parse(process.env.GOOGLE_CREDENTIALS);        const auth = new google.auth.GoogleAuth({        credentials,        scopes: 'https://www.googleapis.com/auth/spreadsheets.readonly',    });    const sheets = google.sheets({ version: 'v4', auth });    const spreadsheetId = process.env.GOOGLE_SHEET_ID;    const range = 'Recetas!A2:E';    const response = await sheets.spreadsheets.values.get({        spreadsheetId,        range,    });    const data = response.data.values;    const recipes = data.map(row => ({        id: row[0],        name: row[1],        ingredients: row[2].split(',').map(item => item.trim()),        steps: row[3].split('\n').map(item => item.trim()),        timers: row[4] ? row[4].split(',').map(item => parseInt(item.trim(), 10)) : []    }));    return {      statusCode: 200,      headers: {        "Access-Control-Allow-Origin": "*", // Allow requests from any origin        "Access-Control-Allow-Headers": "Content-Type",        "Content-Type": "application/json"      },      body: JSON.stringify(recipes),    };  } catch (error) {    console.error('Error fetching sheets data:', error);    return {      statusCode: 500,      body: JSON.stringify({ error: 'Error retrieving recipe data' }),    };  }};